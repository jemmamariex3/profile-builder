<div class="row" id="companies">
    <div class="col-xs-12">
        <h1> Portfolio</h1>
    </div>
</div>
<br>
<!-- Trigger the modal with a button -->
<div class="row">
    {{#each projects}}
    <div class="col-xs-4 button-for-jemma" data-project="{{this}}">
        <h3>{{this.name}}</h3> {{!--
        <button type="button" class="btn btn-secondary btn-lg" data-toggle="modal" data-target="#myModal"><img src="https://openclipart.org/image/2400px/svg_to_png/177482/ProfilePlaceholderSuit.png" width="100" height="100">
        </button> --}}
        <img src="https://openclipart.org/image/2400px/svg_to_png/177482/ProfilePlaceholderSuit.png" width="100" height="100">
    </div>
    {{/each}}
</div>
<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">


                    {{!-- {{this.name}} --}}


                </h4> 
            </div>
            <div class="modal-body">


                {{!-- {{this.linkLiveDemo}} {{this.description}}
                <br> {{this.linkGithub}} --}}


            </div>
            <div class="modal-footer">
                

                {{!-- {{this.createdAt}} --}}


            </div>
        </div>
    </div>
</div>
{{#section 'script'}}
<script type="text/javascript">
// $(function() {


//     $('.row').on("click", ".button-for-jemma", function() {
//         $('#myModal').modal("show");
//         console.log($(this).attr("data-project"))
//     });

// });
    $( document ).ready(function()
    {
       $(".button-for-jemma").click(function(){

     $.ajax({
        url: "./controllers/api/projects",
            type: "GET",
            data: { 'page':'create_user', 'access':'user','username':'user', 'password':'user'},
            dataType: "text",
            success: function (html) {
                //Prints the Response Body
                console.log(html);


          var teamNames = new Array();
          var res = html.match(/insertNewChild(.*);/g);
                for(var i =0;i<res.length;i++)
                {

                    //Parse out names of the desired strings         
                    var temp = res[i].split(',');
                    if(temp.length >= 3)
                    {

               //Store the desired strings in an string array 
              teamNames[i] = (temp[2].replace('");','')).replace('"','');
                    }                   
                }


              for(var i = 0; i<teamNames.length; i++){

                 //this will print names of all the basketball teams (desired string)
                 alert(widgetNames[i]);

                 //create buttons using the printed string


              }

            }

       });
      });


    })

</script>
{{/section}}
